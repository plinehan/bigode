% set paper size using geometry, mas tarde
\documentclass[]{book}
\usepackage{amstext}

% customizing chapter/section names/styles.
\usepackage{sectsty}
% for controling headers/footers.
\usepackage{fancyhdr}
% customizing the spacing around chapters/titles.
\usepackage{titlesec}
% allows us to put footnotes in section titles
\usepackage[stable]{footmisc}
\usepackage{graphicx}


% we enable hyperlinks in the electronic versions

%\usepackage[pdftex]{hyperref}



% for adding Creative Commons tags to the pdf.
\usepackage{xmpincl}
\usepackage{xspace}
% for putting the back cover on an even page.
\usepackage{lhelp}

% adding index for sixbynine versions
\usepackage{makeidx}
% use glossary instead of footnotes for foreign language words
\usepackage{glossary}

% tell latex to use the index and glossary
\makeindex
\makeglossary


% file for stored definitions of foreign words glossary
\include{foreignwords}


% set paper size with geometry package
\usepackage[papersize={6in,9in},includeheadfoot]{geometry}
\geometry{twoside,bindingoffset=.25in}
\geometry{headsep=.05in,footskip=.1in}
\geometry{hmargin={.25in}, vmargin={.25in,.25in}}

% shortuct to index entires
\newcommand{\tin}[1]{#1\index{#1}}




% slanty fractions
% these end up looking pretty shitty and bleed into the surrounding text.  be
% careful if you turn these on!
%\def\myfrac#1#2{
%  \hspace{3pt}\!\!\!$^{#1}\!\!\hspace{1pt}/\hspace{2pt}\!\!_{#2}$\!\!\!\hspace{3pt}
%} 

\newcommand{\onequarter}{$\frac{1}{4}$\xspace}
\newcommand{\onethird}{$\frac{1}{3}$\xspace}
\newcommand{\onehalf}{$\frac{1}{2}$\xspace}
\newcommand{\twothirds}{$\frac{2}{3}$\xspace}
\newcommand{\threequarters}{$\frac{3}{4}$\xspace}
\newcommand{\ordinal}[1]{$^{\text{#1}}$\xspace}

% all of the header/footer settings for "fancy" pages.
\pagestyle{fancy}
\fancyhead{} % clear all header fields
\fancyhead[RE]{cooking com bigode}
\fancyhead[LO]{chapter \thechapter}
\fancyhead[LE,RO]{\thepage}
\fancyfoot{} % clear all footer fields
\renewcommand{\headrulewidth}{0.4pt}
\renewcommand{\footrulewidth}{0.0pt}

% redefine the "plain" page style to leave off page numbers.
\fancypagestyle{plain}{%
\fancyhf{} % clear all header and footer fields
\renewcommand{\headrulewidth}{0pt}
\renewcommand{\footrulewidth}{0pt}}

% disable paragraph indentation
\setlength{\parindent}{0pt}

% add space between paragraphs 
\setlength{\parskip}{\baselineskip}


% because we added spaces between paragraphs, all of the title spacings get
% messed up.  here we scale them back down by 2X.
\titlespacing{\chapter}{0pt}{*0.0}{*0.5}
\titlespacing{\section}{0pt}{*0.5}{*0.5}
\titlespacing{\subsection}{0pt}{*0.5}{*0.5}
\titlespacing{\subsubsection}{0pt}{*0.5}{*0.5}

% suppress footnotemark
\makeatletter
\renewcommand\@makefnmark{\relax}
\makeatother

% chapter names are so long, so we have to shrink the font.
\chapterfont{\centering\LARGE}
% make subsubsections italic
\subsubsectionfont{\itshape}

% handle chapter headings with our own commands.
\newcommand{\chaptergraphics}[1]{\includegraphics[width=6cm]{#1}}

% for preface display
\newcommand{\mypreface}[2]{\clearpage{\pagestyle{empty}}\chapter*{\chaptergraphics{#1}\\#2}}

% * end last chapter with a plain page if even.          
% * nice horizontal rule. 
% * the graphic.         
% nice horizontal rule.          
% * first page of chapter on odd page, with no page numbering on back page.
\newcommand{\mychapter}[3]{\clearpage{\pagestyle{empty}}\chapter[#2]{\hrule height 1ex\bigskip\chaptergraphics{#1}\\#3\bigskip\bigskip\hrule height 1ex}\clearpage{\pagestyle{empty}}}

% an environment for lists of ingredients
% note that setting parskip to 0 here causes multi-paragraph items to look like
% shit.
\newenvironment{ingredients}
{\begin{itemize}
  \sf%
  \setlength{\topsep}{0pt}
  \setlength{\partopsep}{0pt}
  \setlength{\itemsep}{0pt}}%}
 % \setlength{\parskip}{0pt}}%
{\end{itemize}}

% an environment for steps to follow in a recipe
% note that setting parskip to 0 here causes multi-paragraph items to look like
% shit.
\newenvironment{algorithm}
{\begin{enumerate}
  \sf%
  \setlength{\topsep}{0pt}
  \setlength{\partopsep}{0pt}
  \setlength{\itemsep}{0pt}}%
%\setlength{\parskip}{0pt}}%
{\end{enumerate}}

\include{titlepage}

\includexmp{cc-by-nc-sa}

\begin{document}

\frontmatter

\maketitle
%\include{copyright}
\newpage
\cleardoublepage
\setcounter{tocdepth}{0}

\tableofcontents

% \addcontentsline{toc}{chapter}{Preface}
\include{preface}

\mainmatter

% make chapters look like "5" instead of "Chapter 5".
\renewcommand\chaptername{}

% start with chapter 0.
\setcounter{chapter}{-1}
\include{preliminary_notes}
\include{feijao}
\include{zucchini}
\include{stirfry}
\include{chana_masala}
\include{veggie_burgers}
\include{stuffed_peppers}
\include{squash}
\include{beet_soup}
\include{favorites}

\backmatter

\addcontentsline{toc}{chapter}{Glossary}
\printglossary
\addcontentsline{toc}{chapter}{Index}
\printindex

%\include{back_cover}

\end{document}
